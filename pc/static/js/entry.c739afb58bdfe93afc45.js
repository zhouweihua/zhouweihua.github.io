webpackJsonp([8],{0:function(e,t,n){n("j1ja"),e.exports=n("NHnr")},"1dF+":function(e,t,n){"use strict";function a(e){n("B5b5")}Object.defineProperty(t,"__esModule",{value:!0});var r=n("Dd8w"),u=n.n(r),s=n("NYxO"),o={data:function(){return{activeIndex:""}},computed:u()({},Object(s.b)(["routers","subroutes","mainNavRouteIndex","subNavRouteIndexs"])),watch:{subroutes:function(){this.setRouteActive()}},mounted:function(){this.setRouteActive()},methods:{handleRoute:function(e){var t=this,n=this.mainNavRouteIndex,a=e,r=this.routers[n].path+"/"+this.routers[n].children[a].path;this.$store.dispatch("SetNavRoute",{mainNavRoute:n,subNavRoute:a}).then(function(){t.$router.push({path:r})})},setRouteActive:function(){var e=this;setTimeout(function(){var t=e.subNavRouteIndexs[e.mainNavRouteIndex];e.activeIndex=e.routers[e.mainNavRouteIndex].children[t].path},500)}}},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"subnavbar-main"},[n("el-menu",{staticClass:"subnav-el",attrs:{"default-active":e.activeIndex,mode:"horizontal","active-text-color":"#5A2DFF"}},[e._l(e.subroutes,function(t,a){return[n("el-menu-item",{key:a,attrs:{index:t.path},on:{click:function(t){e.handleRoute(a)}}},[e._v(e._s(t.name))])]})],2)],1)},l=[],c={render:i,staticRenderFns:l},d=c,f=n("VU/8"),v=a,m=f(o,d,!1,v,"data-v-32af4951",null);t.default=m.exports},"2iIZ":function(e,t){},"6eRs":function(e,t,n){"use strict";function a(e){n("QKnO")}var r={name:"custinput",data:function(){return{currentValue:this.value}},props:{value:[String,Number],labelName:String,placeholder:String,maxlength:Number,minlength:Number,readonly:Boolean,autofocus:Boolean,disabled:Boolean,type:{type:String,default:"text"},secondFlag:{type:Boolean,default:!1},autoComplete:{type:String,default:"off"},telFun:Function},watch:{value:function(e,t){this.setCurrentValue(e)}},methods:{handleTelCall:function(){this.$emit("telFun")},handleBlur:function(e){this.$emit("blur",e)},handleFocus:function(e){this.$emit("focus",e)},handleInput:function(e){var t=e.target.value;this.$emit("input",t),this.setCurrentValue(t)},handleChange:function(e){this.$emit("change",e.target.value)},setCurrentValue:function(e){e!==this.currentValue&&(this.currentValue=e)}}},u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cust-input"},[n("label",{class:{"second-label":e.secondFlag},domProps:{textContent:e._s(e.labelName)}}),e._v(" "),n("div",{staticClass:"input-wrap"},["noEdit"!==e.type?n("input",e._b({ref:"input",attrs:{autocomplete:e.autoComplete},on:{input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"input",e.$props,!1)):n("div",{staticClass:"no-edit"},[n("span",{staticClass:"lineae"},[e._v("—")])]),e._v(" "),"tel"==e.type?n("span",{staticClass:"tel-icon",on:{click:e.handleTelCall}}):e._e()])])},s=[],o={render:u,staticRenderFns:s},i=o,l=n("VU/8"),c=a,d=l(r,i,!1,c,"data-v-19552590",null);t.a=d.exports},A66B:function(e,t,n){e.exports=function(e){return function(){return n("Opzk")("./"+e+".vue")}}},AcMr:function(e,t){},AkUR:function(e,t,n){"use strict";function a(e){n("E6KP")}Object.defineProperty(t,"__esModule",{value:!0});var r=n("Dd8w"),u=n.n(r),s=n("NYxO"),o=n("YPbV"),i=n("tjPF"),l={name:"layout",data:function(){return{}},components:{Navbar:o.b,Sidebar:o.c,AppMain:o.a,UserinfoQuery:i.default},computed:u()({},Object(s.b)(["userQueryPaneFlag","userInfoQueryFlag","telInfoQueryFlag","userCallInPaneFlag","userInfoCallInFlag","userButtonFlag","userButtonStyle"])),watch:{},methods:{handleUserPane:function(){console.log("---- handleUserPane -----"),this.userButtonFlag||console.log("---- userButtonFlag return -----")}}},c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"web-wrapper"},[n("navbar"),e._v(" "),n("div",{staticClass:"main-container"},[n("sidebar"),e._v(" "),n("app-main")],1),e._v(" "),e.userQueryPaneFlag?n("div",{staticClass:"query-container"},[n("div",{staticClass:"user-wap"},[e.userInfoQueryFlag?n("userinfo-query"):e._e()],1)]):e._e()],1)},d=[],f={render:c,staticRenderFns:d},v=f,m=n("VU/8"),p=a,h=m(l,v,!1,p,"data-v-d117c2fe",null);t.default=h.exports},B5b5:function(e,t){},DOpt:function(e,t,n){"use strict";function a(e){n("vNEb")}Object.defineProperty(t,"__esModule",{value:!0});var r={name:"side-bar",data:function(){return{}},methods:{}},u=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar-container"},[n("div",{staticClass:"title"},[n("span",[e._v("待办任务")])])])}],o={render:u,staticRenderFns:s},i=o,l=n("VU/8"),c=a,d=l(r,i,!1,c,"data-v-a6f1b670",null);t.default=d.exports},E6KP:function(e,t){},NHnr:function(e,t,n){"use strict";function a(e){n("nNx/")}function r(e,t){return Q({url:"/login/login",method:"post",data:{username:e,password:t}})}function u(){return Q({url:"/login/logout",method:"post"})}function s(e,t){return!t.meta||!t.meta.role||e.some(function(e){return t.meta.role.indexOf(e)>=0})}function o(e,t){return e.filter(function(e){return!!s(t,e)&&(e.children&&e.children.length&&(e.children=o(e.children,t)),!0)})}function i(e,t){return e.indexOf("admin")>=0||(!t||e.some(function(e){return t.indexOf(e)>=0}))}Object.defineProperty(t,"__esModule",{value:!0});var l=(n("j1ja"),n("7+uW")),c=n("zL8q"),d=n.n(c),f=(n("tvR6"),{name:"APP"}),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},m=[],p={render:v,staticRenderFns:m},h=p,b=n("VU/8"),g=a,_=b(f,h,!1,g,null,null),x=_.exports,N=n("/ocq"),y=n("AkUR"),R=n("A66B");l.default.use(N.a);var F=[{path:"/login",component:R("login/index"),hidden:!0},{path:"/404",component:R("errorPage/404"),hidden:!0},{path:"/401",component:R("errorPage/401"),hidden:!0}],C=new N.a({scrollBehavior:function(){return{y:0}},routes:F}),k=[{path:"/infoQuery",component:y.default,redirect:"/infoQuery/index",name:"信息查询",children:[{path:"index",component:R("infoQuery/index"),name:"用户查询"}]},{path:"/taskCenter",component:y.default,redirect:"/taskCenter/index",name:"任务中心",children:[{path:"index",component:R("taskCenter/index"),name:"任务列表"},{path:"taskManage",component:R("taskCenter/taskManage"),name:"任务管理"}]},{path:"/backManage",component:y.default,redirect:"/backManage/index",name:"后台管理",children:[{path:"index",component:R("backManage/index"),name:"权限配置"}]},{path:"*",redirect:"/404",hidden:!0}],I=n("NYxO"),S={state:{userQueryPaneFlag:!1,userInfoQueryFlag:!0},mutations:{SET_QUERY_PANE:function(e,t){e.userQueryPaneFlag=t},SET_USER_INFO_QUERY:function(e,t){e.userInfoQueryFlag=t}},actions:{SetQueryPane:function(e,t){var n=e.commit;n("SET_QUERY_PANE",t),n("SET_TEL_INFO_QUERY",!1)}}},E=S,O=n("//Fk"),T=n.n(O),P=n("mtWM"),U=n.n(P),A=U.a.create({timeout:5e3});A.interceptors.request.use(function(e){return e},function(e){console.log(e),T.a.reject(e)}),A.interceptors.response.use(function(e){return e},function(e){return console.log("---------- fetch err ----------"),console.log(e),T.a.reject(e)});var Q=A,w={state:{name:"",token:"",roles:[],routers:F,subroutes:[],mainNavRouteIndex:0,subNavRouteIndexs:[]},mutations:{SET_NAME:function(e,t){e.name=t},SET_TOKEN:function(e,t){e.token=t},SET_ROLES:function(e,t){e.roles=t},SET_ROUTERS:function(e,t){C.addRoutes(t),e.routers=F.concat(t);for(var n=0;n<e.routers.length;n++)if(!e.routers[n].hidden){e.mainNavRouteIndex=n;break}e.subroutes=e.routers[e.mainNavRouteIndex].children;for(var a=0,r=[];a<e.routers.length;a++)r.push(0);e.subNavRouteIndexs=r},SET_NAVROUTE:function(e,t){e.mainNavRouteIndex=t.mainNavRoute;var n=e.subNavRouteIndexs;n[t.mainNavRoute]=t.subNavRoute,e.subNavRouteIndexs=n,e.subroutes=e.routers[e.mainNavRouteIndex].children}},actions:{LoginByUsername:function(e,t){var n=e.commit,a=t.username.trim();return new T.a(function(e,u){r(a,t.password).then(function(t){var a=t.data,r=a.roles;n("SET_NAME",a.name),n("SET_TOKEN",a.token),n("SET_ROLES",r);var u=void 0;u=r.indexOf("admin")>=0?k:o(k,r),n("SET_ROUTERS",u),e()}).catch(function(e){u(e)})})},LogOut:function(e){var t=(e.commit,e.state);return new T.a(function(e,n){u(t.token).then(function(){e()}).catch(function(e){n(e)})})},FedLogOut:function(e){e.commit;return new T.a(function(e){e()})},SetNavRoute:function(e,t){(0,e.commit)("SET_NAVROUTE",t)}}},$=w,j={userQueryPaneFlag:function(e){return e.userpane.userQueryPaneFlag},userInfoQueryFlag:function(e){return e.userpane.userInfoQueryFlag},name:function(e){return e.permission.name},roles:function(e){return e.permission.roles},token:function(e){return e.permission.token},routers:function(e){return e.permission.routers},subroutes:function(e){return e.permission.subroutes},mainNavRouteIndex:function(e){return e.permission.mainNavRouteIndex},subNavRouteIndexs:function(e){return e.permission.subNavRouteIndexs}},D=j;l.default.use(I.a);var M=new I.a.Store({modules:{userpane:E,permission:$},getters:D}),B=M,V=["/login"];C.beforeEach(function(e,t,n){B.getters.token?"/login"===e.path?n({path:"/"}):0!==B.getters.roles.length?i(B.getters.roles,e.meta.role)?n():n({path:"/401",query:{noGoBack:!0}}):B.dispatch("FedLogOut").then(function(){console.log("验证失败,请重新登录"),n({path:"/login"})}):-1!==V.indexOf(e.path)?n():n("/login")});var L=n("zNUS"),Y=n.n(L),z={admin:{roles:["admin"],name:"Super Admin",token:"admin"},editor:{roles:["editor"],name:"Normal Editor",token:"editor"}},q={loginByUsername:function(e){var t=JSON.parse(e.body),n=t.username;return z[n]},logout:function(){return"success"}};Y.a.setup({timeout:"350-600"}),Y.a.mock(/\/login\/login/,"post",q.loginByUsername),Y.a.mock(/\/login\/logout/,"post",q.logout),Y.a.mock(/\/user\/info\.*/,"get",q.getUserInfo);Y.a;l.default.use(d.a),l.default.config.productionTip=!1,new l.default({el:"#app",router:C,store:B,template:"<App/>",components:{App:x}})},Opzk:function(e,t,n){function a(e){var t=r[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var r={"./backManage/index.vue":["oTrD",6],"./components/UserinfoQuery.vue":["tjPF"],"./errorPage/401.vue":["eRLo",5],"./errorPage/404.vue":["AejC",4],"./infoQuery/index.vue":["D3+U",3],"./layout/AppMain.vue":["TAmc"],"./layout/Layout.vue":["AkUR"],"./layout/Navbar.vue":["kzJD"],"./layout/Sidebar.vue":["DOpt"],"./layout/Subnavbar.vue":["1dF+"],"./login/index.vue":["T+/8",0],"./taskCenter/index.vue":["Bq4i",2],"./taskCenter/taskManage.vue":["ulOD",1]};a.keys=function(){return Object.keys(r)},a.id="Opzk",e.exports=a},QKnO:function(e,t){},SThi:function(e,t){},TAmc:function(e,t,n){"use strict";function a(e){n("AcMr")}Object.defineProperty(t,"__esModule",{value:!0});var r=n("YPbV"),u={name:"AppMain",components:{Subnavbar:r.d},computed:{key:function(){return void 0!==this.$route.name?this.$route.name+ +new Date:this.$route+ +new Date}}},s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"app-main"},[n("subnavbar"),e._v(" "),n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{key:e.key})],1)],1)},o=[],i={render:s,staticRenderFns:o},l=i,c=n("VU/8"),d=a,f=c(u,l,!1,d,"data-v-ed620fd4",null);t.default=f.exports},YPbV:function(e,t,n){"use strict";var a=n("kzJD");n.d(t,"b",function(){return a.default});var r=n("DOpt");n.d(t,"c",function(){return r.default});var u=n("1dF+");n.d(t,"d",function(){return u.default});var s=n("TAmc");n.d(t,"a",function(){return s.default})},bSBi:function(e,t,n){"use strict";function a(e){n("SThi")}var r={name:"custtitle",props:{titleName:{type:String,default:"用户信息"}}},u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cust-title"},[e._v("\n  "+e._s(e.titleName)+"\n  "),n("div",{staticClass:"tool-bar"},[e._t("default")],2)])},s=[],o={render:u,staticRenderFns:s},i=o,l=n("VU/8"),c=a,d=l(r,i,!1,c,"data-v-b9243bd0",null);t.a=d.exports},kzJD:function(e,t,n){"use strict";function a(e){n("2iIZ")}Object.defineProperty(t,"__esModule",{value:!0});var r=n("Dd8w"),u=n.n(r),s=n("NYxO"),o={data:function(){return{roleValue:"管理员",stateOptions:["就绪","离席","后处理"],activeIndex:"",falseLable:!1}},computed:u()({},Object(s.b)(["routers","mainNavRouteIndex","subNavRouteIndexs","name"])),mounted:function(){this.activeIndex=this.routers[this.mainNavRouteIndex].path},methods:{handleRoute:function(e){var t=this,n=e,a=this.subNavRouteIndexs[n],r=this.routers[n].path+"/"+this.routers[n].children[a].path;this.$store.dispatch("SetNavRoute",{mainNavRoute:n,subNavRoute:a}).then(function(){t.$router.push({path:r})})},logout:function(){this.$store.dispatch("LogOut").then(function(){location.reload()})}}},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar-container"},[n("a",{staticClass:"main-web"},[e._v("网站")]),e._v(" "),n("div",{staticClass:"nav-main"},[n("el-menu",{attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#0a122b","active-text-color":"#ffffff"}},[e._l(e.routers,function(t,a){return[!t.hidden&&t.children.length>0?n("el-menu-item",{key:t.path,attrs:{index:t.path},on:{click:function(t){e.handleRoute(a)}}},[e._v(e._s(t.name))]):e._e()]})],2)],1),e._v(" "),n("div",{staticClass:"right-info"},[n("div",{staticClass:"logout"},[e._v("安全退出")]),e._v(" "),n("b",{staticClass:"divide-line"}),e._v(" "),n("div",{staticClass:"state-el"},[n("span",[e._v("\n        "+e._s(e.roleValue)),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]),e._v(" "),n("span",{staticClass:"user-name"},[e._v("您好 "+e._s(e.name))])])])},l=[],c={render:i,staticRenderFns:l},d=c,f=n("VU/8"),v=a,m=f(o,d,!1,v,"data-v-6a53f1aa",null);t.default=m.exports},"nNx/":function(e,t){},tjPF:function(e,t,n){"use strict";function a(e){n("v6G3")}Object.defineProperty(t,"__esModule",{value:!0});var r=n("Dd8w"),u=n.n(r),s=n("NYxO"),o=n("bSBi"),i=n("6eRs"),l={name:"UserInfo",components:{CustTitle:o.a,CustInput:i.a},data:function(){return{userData:"用户资料",activeIndex:"0",userNavs:[],userName:"",userTel:"15900590619",userSex:"",userStaticTel:"",userCardID:"",userAddress:"",trueFlag:!0,gridData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"}]}},computed:u()({},Object(s.b)(["telInfoQueryFlag"])),mounted:function(){var e=[{id:"0",name:"基本信息"},{id:"3",name:"管理用户"}];this.userNavs=e},methods:{handleSelect:function(e,t){this.activeIndex=e},handleCloseQueryPane:function(){this.$store.dispatch("SetQueryPane",!1).then(function(){console.log("---- 关闭-查询面板 ------")})},handleGetMore:function(){}}},c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"user-info"},[n("span",{staticClass:"test"},[e._v("UserinfoQuery")]),e._v(" "),n("div",{staticClass:"user-nav"},[n("div",{staticClass:"nav-wrap"},[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":"0",mode:"horizontal","background-color":"#F2F2F2","active-text-color":"#5A2DFF"},on:{select:e.handleSelect}},[e._l(e.userNavs,function(t,a){return[n("el-menu-item",{key:a,staticClass:"usernav-li-el",attrs:{index:t.id}},[e._v(e._s(t.name))])]})],2)],1),e._v(" "),e.telInfoQueryFlag?e._e():n("i",{staticClass:"el-icon-close icon-el",on:{click:function(t){e.handleCloseQueryPane()}}})]),e._v(" "),n("div",{staticClass:"user-panes"},["0"==e.activeIndex?n("div",{staticClass:"base-info"},[n("cust-title",{attrs:{titleName:"用户资料"}}),e._v(" "),n("div",{staticClass:"user-form"},[n("div",{staticClass:"line"},[n("cust-input",{attrs:{type:"text",labelName:"姓名:",disabled:e.trueFlag},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),e._v(" "),n("cust-input",{attrs:{type:"tel",labelName:"手机号:",secondFlag:e.trueFlag,disabled:e.trueFlag},model:{value:e.userTel,callback:function(t){e.userTel=t},expression:"userTel"}})],1),e._v(" "),n("div",{staticClass:"line"},[n("cust-input",{attrs:{type:"text",labelName:"性别:",disabled:e.trueFlag},model:{value:e.userSex,callback:function(t){e.userSex=t},expression:"userSex"}}),e._v(" "),n("cust-input",{attrs:{type:"noEdit",labelName:"固定电话:",secondFlag:e.trueFlag},model:{value:e.userStaticTel,callback:function(t){e.userStaticTel=t},expression:"userStaticTel"}})],1),e._v(" "),n("div",{staticClass:"line"},[n("cust-input",{attrs:{type:"text",labelName:"身份证:",disabled:e.trueFlag},model:{value:e.userCardID,callback:function(t){e.userCardID=t},expression:"userCardID"}}),e._v(" "),n("cust-input",{attrs:{type:"text",labelName:"家庭住址:",secondFlag:e.trueFlag,disabled:e.trueFlag},model:{value:e.userAddress,callback:function(t){e.userAddress=t},expression:"userAddress"}})],1)]),e._v(" "),n("cust-title",{attrs:{titleName:"关系人联系"}}),e._v(" "),n("div",{staticClass:"user-form"},[n("div",{staticClass:"line"},[n("cust-input",{attrs:{type:"text",labelName:"姓名:",disabled:e.trueFlag},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),e._v(" "),n("cust-input",{attrs:{type:"text",labelName:"联系方式:",secondFlag:e.trueFlag,disabled:e.trueFlag},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1)])],1):e._e(),e._v(" "),"3"==e.activeIndex?n("div",{staticClass:"base-info"},[e._v("\n        UserinfoQuery333\n      ")]):e._e()])])},d=[],f={render:c,staticRenderFns:d},v=f,m=n("VU/8"),p=a,h=m(l,v,!1,p,"data-v-238669e3",null);t.default=h.exports},tvR6:function(e,t){},v6G3:function(e,t){},vNEb:function(e,t){}},[0]);
//# sourceMappingURL=entry.c739afb58bdfe93afc45.js.map